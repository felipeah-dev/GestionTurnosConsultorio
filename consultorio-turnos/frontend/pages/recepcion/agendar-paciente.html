<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendar Turno a Paciente - Sistema de Gesti√≥n de Turnos</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Estilos CSS -->
    <link rel="stylesheet" href="../../css/global.css">
    <link rel="stylesheet" href="../../css/components.css">
    <link rel="stylesheet" href="../../css/calendario.css">
    <link rel="stylesheet" href="../../css/forms.css">
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="navbar-brand">
            <span class="logo-icon">üè•</span> Consultorio M√©dico
        </div>
        <div class="navbar-user">
            <div class="user-name">Carla Rivera</div>
            <span class="badge badge-rol">Recepci√≥n</span>
            <button class="btn btn-secundario" style="padding: 0.25rem 0.5rem; font-size: 0.8rem;">Cerrar
                sesi√≥n</button>
        </div>
    </nav>

    <!-- √Årea de Notificaciones -->
    <div id="notification-area" class="oculto"></div>

    <!-- Spinner Global -->
    <div id="loading-spinner" class="spinner oculto"></div>
    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb" style="padding: 0 2rem;">
        <div class="breadcrumb">
            <a href="dashboard.html">Inicio (Recepci√É¬≥n)</a>
            <span class="breadcrumb-separator">&rsaquo;</span>
            <span class="breadcrumb-active">Agendar Turno a Paciente</span>
        </div>
    </nav>

    <!-- Contenido Principal -->
    <main>
        <h1 class="mb-4">Agendar turno para paciente</h1>

        <!-- Paso 1: Seleccionar Paciente -->
        <div class="card mb-4">
            <h3 class="card-title mb-3">1. Seleccionar Paciente</h3>

            <div class="d-flex gap-2" style="max-width: 500px; margin-bottom: 1rem;">
                <input type="text" id="buscador-dni-paciente" class="form-control" placeholder="Buscar por DNI...">
                <button id="btn-buscar-paciente" class="btn btn-secundario">Buscar</button>
            </div>

            <div id="paciente-seleccionado-info" class="info-box oculto mb-0">
                <strong>Paciente: </strong> <span id="nombre-paciente-agendar">Juan P√©rez</span> (DNI: <span
                    id="dni-paciente-agendar">30123456</span>)
                <!-- Campo escondido pero requerido en el layout -->
                <input type="hidden" id="hidden-paciente-id" value="">
            </div>
            <div id="error-paciente-no-encontrado" class="error-campo oculto mt-2">
                Paciente no encontrado. <a href="nuevo-paciente.html"
                    style="color: var(--color-danger); text-decoration: underline;">Registrar nuevo paciente</a>.
            </div>
        </div>

        <!-- Paso 2: Filtros de Especialidad y M√©dico -->
        <div class="filtros-fila mb-4">
            <div class="form-grupo">
                <label for="filter-especialidad">2. Especialidad</label>
                <select id="filter-especialidad" class="form-control" disabled>
                    <option value="" disabled selected>Selecciona una especialidad</option>
                    <option value="1" data-especialidad-id="1">Cardiolog√≠a</option>
                    <option value="2" data-especialidad-id="2">Neurolog√≠a</option>
                </select>
            </div>

            <div class="form-grupo">
                <label for="filter-medico">3. M√©dico</label>
                <select id="filter-medico" class="form-control" disabled>
                    <option value="" disabled selected>Primero selecciona especialidad</option>
                    <option value="101" data-medico-id="101">Dr. Roberto S√°nchez</option>
                    <option value="102" data-medico-id="102">Dra. Mar√≠a Gonz√°lez</option>
                </select>
            </div>

            <!-- Bot√≥n buscar (simila a vista paciente) -->
            <button id="btn-buscar-disponibilidad" class="btn btn-primario" style="height: 42px;" disabled>Buscar
                horarios</button>
        </div>

        <!-- Paso 3 y 4: Calendario y Horarios (Ocultos hasta buscar) -->
        <div id="seccion-calendario" class="grid-2 oculto">
            <!-- Secci√≥n Calendario -->
            <div class="calendario-wrapper">
                <h3 class="mb-3" style="font-size: 1.1rem;">4. Seleccionar fecha</h3>
                <div class="calendar-header">
                    <button id="calendar-prev" class="btn-icon">‚Üê</button>
                    <h3 id="calendar-month-label" style="font-size: 1rem;">Abril 2026</h3>
                    <button id="calendar-next" class="btn-icon">‚Üí</button>
                </div>

                <div class="calendar-grid-header">
                    <div>Dom</div>
                    <div>Lun</div>
                    <div>Mar</div>
                    <div>Mi√©</div>
                    <div>Jue</div>
                    <div>Vie</div>
                    <div>S√°b</div>
                </div>

                <div id="calendar-container" class="calendar-container">
                    <!-- Javascript llenar√° aqu√≠ class="calendar-day" data-fecha="..." -->
                </div>
            </div>

            <!-- Secci√≥n Horarios -->
            <div id="horarios-section" class="card">
                <h3 class="card-title mb-3">5. Horarios del <span class="texto-primario"
                        id="horarios-fecha-label">-</span></h3>

                <div id="empty-horarios" class="info-box oculto">
                    No hay horarios disponibles.
                </div>

                <div id="horarios-container" class="horarios-grid">
                    <!-- Javascript insertar√° button class="horario-btn" data-horario-id="..." -->
                </div>

                <div class="mt-4 pt-3" style="border-top: 1px solid var(--color-border); text-align: right;">
                    <button id="btn-confirmar-recepcion" class="btn btn-primario w-100 disabled" disabled>Confirmar
                        turno asignado</button>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2026 Sistema de Gesti√≥n de Turnos para Consultorio M√©dico.</p>
    </footer>

    <!-- Scripts (Vac√≠os para la integraci√≥n posterior de JS) -->
    <script src="../../js/ui.js"></script>
    <script src="../../js/api.js"></script>
    <script src="../../js/calendario.js"></script>
    <script src="../../js/recepcion.js"></script>

</body>

</html>